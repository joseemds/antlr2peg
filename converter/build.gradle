/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.14.3/samples
 */

plugins {
	id "application"
	id "java"
	id "antlr"
}

dependencies {
  antlr "org.antlr:antlr4:4.13.2"
}

repositories {
	mavenCentral()
}

application {
	mainClass = 'Converter'
}

def copyAntlrGrammarDeps = tasks.register("copyAntlrGrammarDeps", Copy) {
    from("src/main/antlr/predefined.tokens", "src/main/antlr/LexerAdaptor.java")
    into(layout.buildDirectory.dir("generated-src/antlr/main"))
}

generateGrammarSource {
    dependsOn copyAntlrGrammarDeps

    arguments += ['-visitor']

    outputDirectory = file("build/generated-src/antlr/main")
}

run {
    standardInput = System.in
}
